{"ast":null,"code":"export function walk(ast, _ref) {\n  var enter = _ref.enter,\n      leave = _ref.leave;\n  visit(ast, null, enter, leave);\n}\nvar shouldSkip = false;\nvar context = {\n  skip: function skip() {\n    return shouldSkip = true;\n  }\n};\nexport var childKeys = {};\nvar toString = Object.prototype.toString;\n\nfunction isArray(thing) {\n  return toString.call(thing) === '[object Array]';\n}\n\nfunction visit(node, parent, enter, leave, prop, index) {\n  if (!node) return;\n\n  if (enter) {\n    var _shouldSkip = shouldSkip;\n    shouldSkip = false;\n    enter.call(context, node, parent, prop, index);\n    var skipped = shouldSkip;\n    shouldSkip = _shouldSkip;\n    if (skipped) return;\n  }\n\n  var keys = node.type && childKeys[node.type] || (childKeys[node.type] = Object.keys(node).filter(function (key) {\n    return typeof node[key] === 'object';\n  }));\n\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n    var value = node[key];\n\n    if (isArray(value)) {\n      for (var j = 0; j < value.length; j += 1) {\n        value[j] && value[j].type && visit(value[j], node, enter, leave, key, j);\n      }\n    } else if (value && value.type) {\n      visit(value, node, enter, leave, key, null);\n    }\n  }\n\n  if (leave) {\n    leave(node, parent, prop, index);\n  }\n}","map":null,"metadata":{},"sourceType":"module"}